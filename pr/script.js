var local=!0,offer_id=null;function closemodal(){jQuery("#modal-step-1").modal("hide"),jQuery(".modal-backdrop").remove()}function showfirstmodal(){jQuery("#modal-step-1").modal({backdrop:"static"}),jQuery("#modal-step-2").modal("hide")}function chkvalu(e){jQuery("#"+e+"_done").show()}function checkpostcode(e){5==e.length?(jQuery("#zip_code_done").show(),jQuery("#modal-step-1 #zip_code_done").show(),jQuery("#set_pin").val(1),jQuery("#zip_code_error").hide()):(jQuery("#zip_code_done").hide(),jQuery("#modal-step-1 #zip_code_done").hide(),1==jQuery("#set_pin").val()&&(jQuery("#zip_code_error").show(),jQuery("#zip_code_error").html("Please Enter valid postal code")))}function checkvalid(e){"email"==e?1==ValidateEmail(jQuery("#"+e).val())?jQuery("#"+e+"_done").show():jQuery("#"+e+"_done").hide():""!=jQuery("#"+e).val()&&jQuery("#"+e+"_done").show()}function opnfirst(){jQuery("#modal-step-1").modal({backdrop:"static"}),jQuery("#modal-step-2").modal("hide")}function openmodal1(e){jQuery("#modal-step-1").modal({backdrop:"static"})}function sendmail(){var e=jQuery("#date").val(),o=jQuery("#size").val(),r=jQuery("#email").val(),t=jQuery("#mobile").val(),a=jQuery("#zip_code").val(),i=jQuery("#state").val(),l=jQuery("#city1").val(),d=jQuery("#name").val();jQuery.ajax({type:"post",url:my_ajax_object.ajax_url,data:{action:"send_mail",name:d,date:e,size:o,email:r,mobile:t,zip_code:a,state:i,city1:l,status:"2"},success:function(e){jQuery("#myModal2").modal("hide"),jQuery("#date").val(""),jQuery("#size").val(""),jQuery("#email").val(""),jQuery("#mobile").val(""),jQuery("#zip_code").val(""),jQuery("#state").val(""),jQuery("#city1").val(""),jQuery("#name").val(""),$(".modal-backdrop").remove(),window.location.reload()}})}function displaymap1(){var e=jQuery("#date").val(),o=jQuery("#size").val(),r=jQuery("#email").val(),t=jQuery("#mobile").val(),a=jQuery("#name").val(),i=jQuery("#last_name").val(),l=jQuery("#accept").val(),d=!0;(""==e?(jQuery("#date_error").show(),jQuery("#date_done").hide(),jQuery("#date_error").html("Please Enter Moving Date"),d=!1):(jQuery("#date_error").html(""),jQuery("#date_done").show()),""==o?(jQuery("#size_error").show(),jQuery("#size_done").hide(),jQuery("#size_error").html("Please Enter Size"),d=!1):(jQuery("#size_error").html(""),jQuery("#size_done").show()),"false"!=l&&"unchecked"!=l||(d=!1,jQuery("#term_condition").css("color","red")),""==a?(jQuery("#name_error").show(),jQuery("#name_done").hide(),jQuery("#name_error").html("Please Enter First Name"),d=!1):(jQuery("#name_error").html(""),jQuery("#name_done").show()),""==i?(jQuery("#last_name_error").show(),jQuery("#last_name_done").hide(),jQuery("#last_name_error").html("Please Enter Last Name"),d=!1):(jQuery("#last_name_error").html(""),jQuery("#last_name_done").show()),""==r)?(jQuery("#email_error").show(),jQuery("#email_done").hide(),jQuery("#email_error").html("Please Enter Email"),d=!1):0==ValidateEmail(r)?(jQuery("#email_error").show(),jQuery("#email_done").hide(),jQuery("#email_error").html("Please Enter Valid Email"),d=!1):(jQuery("#email_error").html(""),jQuery("#email_done").show());""==t?(jQuery("#mobile_error").show(),jQuery("#mobile_done").hide(),jQuery("#mobile_error").html("Please Enter Mobile No"),d=!1):(jQuery("#mobile_error").html(""),jQuery("#mobile_done").show()),1==d&&(sendLeadToLagoonmedia(),jQuery("#modal-step-2").modal("hide"),jQuery("#myModal2").modal({backdrop:"static"}),jQuery("#price").html(o))}function sendLeadToLagoonmedia(){var e=window.location.search.replace("?","").split("&"),o=jQuery("#date").val().replace("-","/"),r=jQuery("#size").val(),t=jQuery("#email").val(),a=jQuery("#mobile").val(),i=jQuery("#zip_code").val(),l=jQuery("#state").val(),d=jQuery("#city1").val(),s=jQuery("#name").val(),n=jQuery("#last_name").val(),u="MovingAPT",y="107.170.12.192";null!=jQuery("#sourceProvider").val()&&(u=jQuery("#sourceProvider").val()),null!=jQuery("#ipAddress").val()&&(y=jQuery("#ipAddress").val());var c=0;switch(r){case"$950 - $1350":c=3e3;break;case"$1100 - $1450":c=4e3;break;case"$1350 - $1650":c=5e3;break;case"$1450 - $1850":c=6e3;break;case"$1650 - $3150":c=7e3;break;case"$2200 - $4000":c=8e3;break;case"$3500 - $5500":c=9e3;break;case"$4000 - $7000":c=1e4;break;default:c=2e3}for(var m=0,j=e.length;m<j;m++){var Q=e[m].split("=");""!=Q[0]&&""!=Q[1]&&"omg_referer"==Q[0].toLowerCase()&&5<Q[1].length&&-1<Q[1].toLowerCase().indexOf("has")&&(u=Q[1]),"offer_id"==Q[0].toLowerCase()&&0<Q[1].length&&(offer_id=Q[1],console.log("offer_id",offer_id))}var p="https://crm.lagoonmedia.com/api/create-lead?source="+u+"-"+y+"&omg_referer=https://www.movingapt.com&firstname="+s+"&lastname="+n+"&phone1="+a+"&email="+t+"&ozip="+i+"&dstate="+l+"&dcity="+d+"&movedte="+o+"&movesize="+c;jQuery.ajax({type:"get",url:p,success:function(e){console.log("response",e)}}),gtag("event","conversion",{send_to:"AW-1017748955/UTxMCIjM450BENu7puUD"}),sendFacebookPixelUrl()}function sendFacebookPixelUrl(){var e=document.getElementById("main");if(console.log("offer_id",offer_id),null!=offer_id&&("4"==offer_id||"2"==offer_id)){console.log("offer_id2",offer_id);var o="";if("4"==offer_id?o=local?"https://lagoonmedia.go2cloud.org/aff_l?offer_id=4":"https://lagoonmedia.go2cloud.org/aff_goal?a=l&goal_id=1":"2"!=offer_id||local||(o="https://lagoonmedia.go2cloud.org/aff_l?offer_id=2"),""!=o){var r=document.createElement("iframe");r.src=o,r.scrolling="no",r.frameborder="0",r.width="1",r.height="1",e.appendChild(r)}}}function displaymap(){var e=jQuery("#zip_code").val(),o=jQuery("#state").val(),r=jQuery("#city1").val(),t="";""==e?(jQuery("#zip_code_error").show(),jQuery("#zip_code_done").hide(),jQuery("#zip_code_error").html("Please Enter Postal code"),t=!1):jQuery(" #zip_code_error").html(""),""==o?(jQuery("#state_error").show(),jQuery("#state_done").hide(),jQuery("#state_error").html("Please Enter State"),t=!1):jQuery("#state_error").html(""),""==r?(jQuery("#city1_error").show(),jQuery("#city_done").hide(),jQuery("#city1_error").html("Please Enter City"),t=!1):(jQuery("#city_done").show(),jQuery("#city1_error").html(""));""!=e&&e.match(/^[0-9]+$/)&&5==e.length?(jQuery("#state_done").hide(),""!=r&&""!=o&&(t=!0,jQuery("#state_done").show(),jQuery("#city_done").show()),jQuery("#zip_code_error").html(""),jQuery("#zip_code_done").show()):(jQuery("#zip_code_error").show(),jQuery("#zip_code_error").html(""),jQuery("#zip_code_error").html("Please Enter valid postal code"),5!=e.length&&(jQuery("#zip_code_error").html(""),jQuery("#zip_code_error").html("Please Enter 5 digit postal code")),t=!1),1==t&&(jQuery("#modal-step-1").modal("hide"),jQuery("body").css("overflow","hidden"),jQuery("#modal-step-2").css("top","-5%"),jQuery("#modal-step-2").modal({backdrop:"static"}),jQuery("#datepicker").datepicker({autoclose:!0}),jQuery("#datepicker").datepicker("setDate",null),jQuery("#datepicker").find(".today").removeClass("today"),jQuery("#datepicker").datepicker("setStartDate",new Date))}function ValidateEmail(e){return!!e.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)}function GetLocation(a){(new google.maps.Geocoder).geocode({address:a},function(e,o){if(o==google.maps.GeocoderStatus.OK){var r=e[0].geometry.location.lat(),t=e[0].geometry.location.lng();jQuery("#modal-step-1 #city").val(r+","+t),jQuery("#modal-step-1 #state").removeAttr("disabled"),jQuery("#modal-step-1 #city1").removeAttr("disabled"),5<=a.length&&(jQuery("#modal-step-1 #zip_code_error").html(""),jQuery("#modal-step-1 #zip_code_error").hide(""),jQuery("#modal-step-1 #zip_code_done").show())}else jQuery("#modal-step-1 #state").attr("disabled"),jQuery("#modal-step-1 #city1").attr("disabled")})}function showStep1(){jQuery("#modal-step-1").modal("show")}function getcity1(e,o){".widget-movingfeed"==o?(jQuery(o+" #city1_wid option:first-child").text("Uploading Cities..."),jQuery(o+" #city1_wid").attr("disabled","disabled")):(jQuery(o+" #city1 option:first-child").text("Uploading Cities..."),jQuery(o+" #city1").attr("disabled","disabled")),jQuery.ajax({type:"post",url:my_ajax_object.ajax_url,data:{action:"get_city",state:e,status:"1"},success:function(e){".widget-movingfeed"==o?(jQuery(o+" #city1_wid").html(e),jQuery("#modal-step-1 #city1").html(e),jQuery(o+" #city1_wid option:first-child").text("Destination City"),jQuery(o+" #city1_wid").removeAttr("disabled")):(jQuery(o+" #city1").html(e),jQuery(o+" #city1 option:first-child").text("Destination City"),jQuery(o+" #city1").removeAttr("disabled"))}})}function initMap(){var e=new google.maps.DirectionsService,o=new google.maps.DirectionsRenderer,r=new google.maps.Map(document.getElementById("map-layer"),{zoom:4,center:{lat:41.85,lng:-87.65}});o.setMap(r),document.getElementById("submit").addEventListener("click",function(){calculateAndDisplayRoute(e,o)})}function calculateAndDisplayRoute(e,d){var o=jQuery("#modal-step-1 #city1").val()+", "+jQuery("#modal-step-1 #state").val();e.route({origin:"zip code "+jQuery("#modal-step-1 #zip_code").val(),destination:o,travelMode:"DRIVING"},function(e,o){if("OK"===o){d.setDirections(e);var r=e.routes[0],t=" "+jQuery("#state").val()+" ";-1==r.legs[0].start_address.indexOf(t)&&(local=!1),console.log("isLocal",local);var a=document.getElementById("directions-panel");a.innerHTML="";for(var i=0;i<r.legs.length;i++){var l=i+1;a.innerHTML+="<b>Route Segment: "+l+"</b><br>",a.innerHTML+=r.legs[i].start_address+" to ",a.innerHTML+=r.legs[i].end_address+"<br>",a.innerHTML+=r.legs[i].distance.text+"<br><br>"}}else window.alert("Directions request failed due to "+o)})}function myTooltip(){console.log("Tooltip"),document.getElementById("tooltiptext").classList.toggle("show"),console.log("Tooltip-done")}jQuery(document).ready(function(e){jQuery("#modal-step-1").modal({show:!1,backdrop:"static"}),jQuery(".privacy-policy").bind("click",function(){window.open("https://www.movingapt.com/privacy-policy","_blank","width=400,height=880,left=30,top=80,location=0,scrollbars=1")}),jQuery(".terms-of-use").bind("click",function(){window.open("https://www.movingapt.com/terms-and-conditions","_blank","width=400,height=880,left=30,top=80,location=0,scrollbars=1")})}),jQuery(document).ready(function(o){jQuery(".modal").on("show.bs.modal",function(){jQuery("html").css({overflow:"hidden"})}),jQuery.get("https://ipinfo.io",function(e){jQuery("#ipAddress").val(e.ip)},"jsonp"),jQuery(".modal").on("hide.bs.modal",function(){jQuery("html").css({overflow:"scroll"})}),jQuery("#zip_form_grop").on("keydown","#zip_code",function(e){-1!==o.inArray(e.keyCode,[46,8,9,27,13,110])||/65|67|86|88/.test(e.keyCode)&&(!0===e.ctrlKey||!0===e.metaKey)&&(!0===e.ctrlKey||!0===e.metaKey)||35<=e.keyCode&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode)&&e.preventDefault()})});